<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Product Search Engine</title>
    <style>
      /* Add styling here */
    </style>
  </head>
  <body>
    <!-- Search Form -->
    <form id="searchForm">
      <h1>Product Search</h1>
      <label for="searchInput">Enter Product Name or Category:</label>
      <input type="text" id="searchInput" name="searchInput" required />

      <label for="userType">User Type:</label>
      <select id="userType" name="userType" required>
        <option value="customer">Customer</option>
        <option value="administrator">Administrator</option>
      </select>

      <button type="submit">Search</button>
    </form>

    <!-- Search Results Area -->
    <div id="searchResults">
      <h2>Search Results:</h2>
      <div id="resultsContainer"></div>
    </div>

    <script>
      document
        .getElementById("searchForm")
        .addEventListener("submit", function (event) {
          event.preventDefault();

          // Retrieve form values
          const searchQuery = document.getElementById("searchInput").value;
          const userType = document.getElementById("userType").value;

          // Dummy data for demonstration - replace with actual database query response
          const sampleData = {
            products: [
              {
                ProductID: 1,
                ProductName: "Stylish Hat",
                Description: "A trendy hat for all seasons",
                Prices: "$20",
                Category: "Accessories",
                StockQuantity: 100,
                CreatedAt: "2024-01-15",
                LastUpdated: "2024-09-10",
                WarehouseLocation: "Aisle 4",
              },
              // Add more product data here
            ],
          };

          // Clear previous results
          document.getElementById("resultsContainer").innerHTML = "";

          // Process results based on user type
          sampleData.products.forEach((product) => {
            const productDiv = document.createElement("div");
            productDiv.className = "product";

            // Add common fields for both customers and administrators
            productDiv.innerHTML = `
                    <h3>${product.ProductName}</h3>
                    <p><strong>Description:</strong> ${product.Description}</p>
                    <p><strong>Price:</strong> ${product.Prices}</p>
                    <p><strong>Category:</strong> ${product.Category}</p>
                `;

            // Additional fields for administrators only
            if (userType === "administrator") {
              productDiv.innerHTML += `
                        <p><strong>Stock Quantity:</strong> ${product.StockQuantity}</p>
                        <p><strong>Created At:</strong> ${product.CreatedAt}</p>
                        <p><strong>Last Updated:</strong> ${product.LastUpdated}</p>
                        <p><strong>Warehouse Location:</strong> ${product.WarehouseLocation}</p>
                    `;
            }

            document.getElementById("resultsContainer").appendChild(productDiv);
          });
        });
    </script>
  </body>
</html>
